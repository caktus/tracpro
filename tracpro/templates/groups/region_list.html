{% extends "smartmin/list.html" %}

{% load i18n %}
{% load mptt_tags %}
{% load smartmin %}

{% block table-controls %}
  <div class="clearfix">
    <div class="pull-back">
      {% trans "Each region is a contact group in RapidPro." %}
    </div>

    <div class="pull-away buttons">
      {% if org_perms.groups.region_select %}
        <a class="btn btn-default pull-right"
           href="{% url 'groups.region_select' %}">
          <span class="glyphicon glyphicon-download"></span>
          {% trans "Select Groups" %}
        </a>
      {% endif %}
    </div>
  </div>
{% endblock table-controls %}

{% block table %}
  <table class="list-table {% get_list_class object_list %} table table-bordered" cellspacing="0">
    <thead>
      <tr>
        {% for field in fields %}
          <th>{% get_label field %}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% recursetree object_list %}
        <tr>
          {% for field in fields %}
            <td class="value-{{ field }}">{% get_value node field %}</td>
          {% endfor %}
        </tr>
        {{ children }}
      {% endrecursetree %}
      {% block extra-rows %}{% endblock extra-rows %}
    </tbody>
  </table>
{% endblock table %}
